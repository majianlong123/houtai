(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a61c118"],{1126:function(t,e,a){"use strict";var i=a("acb3"),n=a.n(i);n.a},"2f21":function(t,e,a){"use strict";var i=a("79e5");t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"55dd":function(t,e,a){"use strict";var i=a("5ca1"),n=a("d8e8"),r=a("4bf8"),o=a("79e5"),s=[].sort,l=[1,2,3];i(i.P+i.F*(o((function(){l.sort(void 0)}))||!o((function(){l.sort(null)}))||!a("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(r(this)):s.call(r(this),n(t))}})},aa77:function(t,e,a){var i=a("5ca1"),n=a("be13"),r=a("79e5"),o=a("fdef"),s="["+o+"]",l="​",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),d=function(t,e,a){var n={},s=r((function(){return!!o[t]()||l[t]()!=l})),c=n[t]=s?e(f):o[t];a&&(n[a]=c),i(i.P+i.F*s,"String",n)},f=d.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},acb3:function(t,e,a){},be33:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",[a("div",{staticClass:"header",attrs:{slot:"header"},slot:"header"},[a("div",{attrs:{space:""}})]),a("el-table",{attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"缩略图",align:"center",width:"350px"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:t.row.picurl,target:"_blank"}},[a("img",{staticStyle:{width:"100%",height:"150px"},attrs:{src:t.row.thumb}})])]}}])}),a("el-table-column",{attrs:{label:"跳转入口",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n        "+t._s(a.target_str)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.editorOradd("editor",e.row)}}},[t._v("\n          编辑\n          "),a("i",{staticClass:"el-icon-edit"})])]}}])})],1),t.add?a("addAndeditor",{attrs:{title:t.title,id:t.id,item:t.item,fenlei:t.fenlei},on:{close:t.closeDia}}):t._e(),a("BasePagination",{attrs:{max:t.maxPage,now:t.nowPage},on:{"update:now":function(e){t.nowPage=e}}})],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.title,visible:t.isDialog,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(e){t.isDialog=e},close:t.close}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-position":"right","label-width":"100px"}},[a("el-form-item",{attrs:{label:"缩略图：",prop:"thumb"}},[a("el-upload",{attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":t.handleAvatarSuccess,"http-request":t.uploadSectionFile}},[t.form.thumb?a("div",{staticClass:"src"},[a("img",{staticClass:"avatar",attrs:{src:t.form.thumb}})]):a("div",{staticClass:"img"},[a("span",[t._v("点击图片重新上传")])])]),a("span",{staticClass:"test1"},[t._v("提示: 请选择(宽: 640, 高: 320) 的图片")])],1),a("el-form-item",{attrs:{label:"权重：",prop:"sort"}},[a("el-slider",{attrs:{max:255,"show-input":""},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.isDialog=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.isOk("form")}}},[t._v("确 定")])],1)],1)},o=[],s=(a("55dd"),a("c5f6"),{props:{title:String,id:Number,item:Object},data:function(){return{loading:!1,chanpin:[],isDialog:!0,form:{target_id:"",thumb:"",sort:null},rules:{sort:[{required:!0,message:"请选择权重"}],thumb:[{required:!0,message:"请上传缩略图",trigger:"change"}]}}},created:function(){this.Screen()},methods:{fileChange:function(){var t=this,e=document.getElementById("files").files[0],a=new FormData;a.append("file",e),this.$http.post("/manage/image/upload",a).then((function(e){1===e.code&&(t.form.thumb=e.data.fileurl)}))},handleAvatarSuccess:function(t,e){this.imageUrl=URL.createObjectURL(e.raw)},uploadSectionFile:function(t){var e=this,a=t.file,i=new FormData;i.append("file",a),this.$http.post("/manage/image/upload",i).then((function(t){e.form.thumb=t.data.fileurl}))},Screen:function(){this.id?(this.form.sort=this.item.sort,this.form.thumb=this.item.thumb,this.form.target_id=this.item.target_id):(this.form.sort=0,this.form.thumb="")},close:function(t){this.$emit("close",t)},isOk:function(t){var e=this;this.$refs[t].validate((function(t){if(t)if(e.id){var a=new URLSearchParams;a.append("thumb",e.form.thumb),a.append("sort",e.form.sort),a.append("id",e.id),a.append("type","advert"),a.append("target_id",""),e.$http.post("/manage/advert/edit",a).then((function(t){e.isDialog=!1,e.close("1")}))}else{var i=new URLSearchParams;i.append("thumb",e.form.thumb),i.append("sort",e.form.sort),i.append("type","slider"),i.append("target_type","goods"),i.append("target_id",e.form.target_id),e.$http.post("/manage/advert/add",i).then((function(t){e.isDialog=!1,e.close("1")}))}}))}}}),l=s,c=(a("1126"),a("2877")),u=Object(c["a"])(l,r,o,!1,null,null,null),d=u.exports,f={components:{addAndeditor:d},data:function(){return{tableData:[],title:"",maxPage:1,nowPage:1,id:null,item:{},fenlei:[],add:!1}},watch:{nowPage:function(){this.getData()}},methods:{editorOradd:function(t,e){"add"===t?(this.title="新增轮播图",this.add=!0,this.id=null,this.item={}):(this.add=!0,this.title="修改轮播图",this.id=e.id,this.item=e)},getData:function(){var t=this;this.$http.get("/manage/advert/lists",{params:{page:1,rows:10,type:"advert",target:""}}).then((function(e){t.tableData=e.data.list,t.maxPage=Math.ceil(e.data.total/10)}))},delGift:function(t){var e=this;this.$confirm("是否确认删除该轮播图?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=new URLSearchParams;a.append("id",t),e.$http.post("/manage/slider/del",a).then((function(t){e.getData()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},jump:function(t,e){console.log(t),this.$router.push({name:e,params:{data:t}})},closeDia:function(t){t&&this.getData(),this.add=!1}},created:function(){this.getData()}},p=f,h=Object(c["a"])(p,i,n,!1,null,null,null);e["default"]=h.exports},c5f6:function(t,e,a){"use strict";var i=a("7726"),n=a("69a8"),r=a("2d95"),o=a("5dbc"),s=a("6a99"),l=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,f=a("aa77").trim,p="Number",h=i[p],m=h,g=h.prototype,b=r(a("2aeb")(g))==p,v="trim"in String.prototype,w=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():f(e,3);var a,i,n,r=e.charCodeAt(0);if(43===r||45===r){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+e}for(var o,l=e.slice(2),c=0,u=l.length;c<u;c++)if(o=l.charCodeAt(c),o<48||o>n)return NaN;return parseInt(l,i)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof h&&(b?l((function(){g.valueOf.call(a)})):r(a)!=p)?o(new m(w(e)),a,h):w(e)};for(var _,S=a("9e1e")?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;S.length>y;y++)n(m,_=S[y])&&!n(h,_)&&d(h,_,u(m,_));h.prototype=g,g.constructor=h,a("2aba")(i,p,h)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);