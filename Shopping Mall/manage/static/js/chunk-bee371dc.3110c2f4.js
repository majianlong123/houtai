(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bee371dc"],{"35e0":function(e,t,a){"use strict";var n=a("412d"),r=a.n(n);r.a},"412d":function(e,t,a){},"4d04":function(e,t,a){"use strict";var n=a("ea33"),r=a.n(n);t["default"]=r.a},aa77:function(e,t,a){var n=a("5ca1"),r=a("be13"),s=a("79e5"),l=a("fdef"),o="["+l+"]",i="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(e,t,a){var r={},o=s((function(){return!!l[e]()||i[e]()!=i})),c=r[e]=o?t(f):l[e];a&&(r[a]=c),n(n.P+n.F*o,"String",r)},f=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},c5f6:function(e,t,a){"use strict";var n=a("7726"),r=a("69a8"),s=a("2d95"),l=a("5dbc"),o=a("6a99"),i=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,f=a("aa77").trim,m="Number",p=n[m],_=p,b=p.prototype,h=s(a("2aeb")(b))==m,g="trim"in String.prototype,v=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=g?t.trim():f(t,3);var a,n,r,s=t.charCodeAt(0);if(43===s||45===s){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var l,i=t.slice(2),c=0,u=i.length;c<u;c++)if(l=i.charCodeAt(c),l<48||l>r)return NaN;return parseInt(i,n)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof p&&(h?i((function(){b.valueOf.call(a)})):s(a)!=m)?l(new _(v(t)),a,p):v(t)};for(var w,y=a("9e1e")?c(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;y.length>x;x++)r(_,w=y[x])&&!r(p,w)&&d(p,w,u(_,w));p.prototype=b,b.constructor=p,a("2aba")(n,m,p)}},d200:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("div",{class:e.$style.header,attrs:{slot:"header"},slot:"header"},[a("div",{class:e.$style.search},[a("span",[e._v("搜索：")]),a("el-input",{attrs:{placeholder:"输入订单关键词",clearable:""},on:{change:e.filterData},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1),a("div",{class:e.$style.search},[a("el-input",{attrs:{placeholder:"输入用户关键词",clearable:""},on:{change:e.filterData},model:{value:e.member,callback:function(t){e.member=t},expression:"member"}})],1),a("div",[a("el-select",{attrs:{placeholder:"选择订单状态",clearable:""},on:{change:e.filterData},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},e._l(e.state_screen,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",[a("el-select",{attrs:{placeholder:"选择支付方式",clearable:""},on:{change:e.filterData},model:{value:e.payment,callback:function(t){e.payment=t},expression:"payment"}},e._l(e.payment_screen,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",[a("el-date-picker",{attrs:{clearable:"",type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd HH:mm:ss","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.filterData},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[e._v(">\n          ")])],1),a("el-button",{attrs:{type:"primary"},on:{click:e.filterData}},[e._v("\n        搜索\n        "),a("i",{staticClass:"el-icon-search"})])],1),a("el-table",{attrs:{data:e.goodsData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-form",{attrs:{"label-position":"left",inline:""}},[a("span",{staticClass:"box"},[e._v("商品信息：")]),a("div",{staticClass:"boxx"},[a("el-form-item",{staticStyle:{display:"flex","align-items":"center"},attrs:{label:"缩略图:"}},[a("label",{staticStyle:{width:"150px",height:"100px"}},[a("img",{staticStyle:{width:"150px",height:"100px"},attrs:{src:n.goods_thumb,alt:""}})])]),a("el-form-item",{attrs:{label:"名称/规格:"}},[a("span",[e._v(e._s(n.goods_name)+"/"+e._s(n.goods_spec))])]),a("el-form-item",{attrs:{label:"价格:"}},[a("span",[e._v(e._s(n.goods_price))])]),a("el-form-item",{attrs:{label:"购买数量:"}},[a("span",[e._v(e._s(n.goods_number))])])],1)]),a("el-form",{attrs:{"label-position":"left",inline:""}},[a("span",{staticClass:"box"},[e._v("收货信息：")]),a("div",{staticClass:"boxx"},[a("el-form-item",{attrs:{label:"联系人:"}},[a("span",[e._v(e._s(n.linkman))])]),a("el-form-item",{attrs:{label:"联系电话:"}},[a("span",[e._v(e._s(n.contact))])]),a("el-form-item",{attrs:{label:"地址:"}},[a("span",[e._v(e._s(n.address))])])],1)]),a("el-form",{attrs:{"label-position":"left",inline:""}},[a("span",{staticClass:"box"},[e._v("物流信息：")]),a("div",{staticClass:"boxx"},[a("el-form-item",{attrs:{label:"快递公司:"}},[a("span",[e._v(e._s(n.express_name))])]),a("el-form-item",{attrs:{label:"运单号:"}},[a("span",[e._v(e._s(n.express_number))])])],1)])]}}])}),a("el-table-column",{attrs:{label:"订单号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.order_sn))]}}])}),a("el-table-column",{attrs:{label:"购买人",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.member_nickname))]}}])}),a("el-table-column",{attrs:{label:"订单总金额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.order_fee))]}}])}),a("el-table-column",{attrs:{label:"购买商品",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.goods_name))]}}])}),a("el-table-column",{attrs:{label:"下单时间",align:"center","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.create_time))]}}])}),a("el-table-column",{attrs:{label:"付款时间",align:"center","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.pay_time))]}}])}),a("el-table-column",{attrs:{label:"支付方式",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.payment_str))]}}])}),a("el-table-column",{attrs:{label:"发货时间",align:"center","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.deliver_time))]}}])}),a("el-table-column",{attrs:{label:"更新时间",align:"center","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.update_time))]}}])}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.status_str)+"\n        ")]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[2==n.status?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.refund(n)}}},[e._v("\n            发货\n          ")]):e._e(),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.bill(n)}}},[e._v("\n            佣金\n          ")])]}}])})],1),a("BasePagination",{attrs:{max:e.maxPage,now:e.nowPage},on:{"update:now":function(t){e.nowPage=t}}}),e.refundShow?a("refund",{attrs:{id:e.id},on:{close:e.close}}):e._e(),a("bill",{ref:"bill",attrs:{id:e.id,title:e.title},on:{close:function(t){return e.close()}}})],1)],1)},r=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"发货",visible:e.isDialog,"close-on-click-modal":!1,width:"30%",top:"300px"},on:{"update:visible":function(t){e.isDialog=t},close:function(t){return e.close()}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"right","label-width":"120px"}},[a("el-form-item",{attrs:{label:"快递公司：",prop:"express_name"}},[a("el-input",{attrs:{placeholder:"请输入快递公司"},model:{value:e.form.express_name,callback:function(t){e.$set(e.form,"express_name",t)},expression:"form.express_name"}})],1),a("el-form-item",{attrs:{label:"运单号：",prop:"express_number"}},[a("el-input",{attrs:{placeholder:"请输入运单号"},model:{value:e.form.express_number,callback:function(t){e.$set(e.form,"express_number",t)},expression:"form.express_number"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.isDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.toSave("form")}}},[e._v("确 定")])],1)],1)},l=[],o=(a("c5f6"),{props:{id:Number},data:function(){return{isDialog:!0,form:{},rules:{express_name:[{required:!0,message:"请输入快递公司"}],express_number:[{required:!0,message:"请输入运单号"}]}}},methods:{close:function(e){this.$emit("close",e)},toSave:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var a=new URLSearchParams;a.append("order_id",t.id),a.append("express_name",t.form.express_name),a.append("express_number",t.form.express_number),t.$http.post("/manage/cash_order/deliver?order_id",a).then((function(e){t.isDialog=!1,t.close("1")}))}}))}},created:function(){},mounted:function(){}}),i=o,c=a("2877"),u=Object(c["a"])(i,s,l,!1,null,null,null),d=u.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"订单"+e.title+"-佣金",visible:e.isDialog,"close-on-click-modal":!1,width:"50%",top:"150px"},on:{"update:visible":function(t){e.isDialog=t},close:e.close}},[a("el-table",{attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"订单类型",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.order_type_str))]}}])}),a("el-table-column",{attrs:{label:"用户昵称",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.class_str))]}}])}),a("el-table-column",{attrs:{label:"金额",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.amount))]}}])}),a("el-table-column",{attrs:{label:"创建时间",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.create_time))]}}])}),a("el-table-column",{attrs:{label:"发放时间",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.expire_time))]}}])}),a("el-table-column",{attrs:{label:"发放状态",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.status))]}}])}),a("el-table-column",{attrs:{label:"备注",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.remark))]}}])})],1),a("BasePagination",{attrs:{max:e.maxPage,now:e.nowPage},on:{"update:now":function(t){e.nowPage=t}}})],1)},m=[],p=(a("dd87"),{props:{id:Number,title:String},data:function(){return{isDialog:!1,maxPage:1,nowPage:1,tableData:[],class_screen:[],clas:"",timeArr:[]}},watch:{nowPage:function(){this.getList()},isDialog:function(e){e?this.getList():(this.timeArr=[],this.tableData=[],this.clas="",this.nowPage=1)}},methods:{close:function(e){this.$emit("close",e)},getList:function(){var e=this;this.$http.get("/manage/reward_bill/lists",{params:{rows:5,page:this.nowPage,order_id:this.id,type:"cash"}}).then((function(t){e.tableData=t.data.list,e.class_screen=t.data.class_screen,e.maxPage=t.data.page_total,console.log(t)}))},filterData:function(){1==this.nowPage?this.getList():this.nowPage=1}},created:function(){},mounted:function(){}}),_=p,b=Object(c["a"])(_,f,m,!1,null,null,null),h=b.exports,g={components:{refund:d,bill:h},created:function(){this.$route.params.data&&(this.member_id=this.$route.params.data,this.state=2),this.$route.query.data&&(this.state=this.$route.query.data.state),this.getData()},data:function(){return{refundShow:!1,state:"",state_screen:[],goodsData:[],date:[],maxPage:1,nowPage:1,id:null,title:"",manage:"",artist:"",keywords:"",member:"",payment:"",payment_screen:[],member_id:""}},watch:{nowPage:function(){this.getData()}},methods:{getData:function(){var e=this;this.$http.get("/manage/cash_order/lists",{params:{rows:8,page:this.nowPage,keywords:this.keywords,member:this.member,payment:this.payment,state:this.state,starttime:this.date?this.date[0]:"",endtime:this.date?this.date[1]:"",member_id:this.member_id}}).then((function(t){e.goodsData=t.data.list,e.maxPage=t.data.page_total,e.state_screen=t.data.state_screen,e.payment_screen=t.data.$payment_screen,console.log(e.goodsData)}))},filterData:function(){1==this.nowPage?this.getData():this.nowPage=1},refund:function(e){this.id=e.order_id,this.refundShow=!0},bill:function(e){this.id=e.order_id,this.title=e.order_sn,this.$refs.bill.isDialog=!0},close:function(e){e&&this.getData(),this.refundShow=!1}}},v=g,w=a("4d04");a("35e0");function y(e){this["$style"]=w["default"].locals||w["default"]}var x=Object(c["a"])(v,n,r,!1,y,"65ffd171",null);t["default"]=x.exports},ea33:function(e,t,a){e.exports={header:"Ocash_header_g3HXu",search:"Ocash_search_1Jec9"}},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);